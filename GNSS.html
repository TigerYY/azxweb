<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ¿å±±åœ°è¡¨å½¢å˜GNSSè‡ªåŠ¨åŒ–ç›‘æµ‹é¢„è­¦ç³»ç»Ÿ - å®£ä¼ å›¾è§£</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Font for Material Icons look-alike (Using standard sans-serif, icons via Unicode/CSS) -->
    <style>
        body {
            font-family: 'Inter', 'Helvetica Neue', 'Arial', sans-serif;
            background-color: #f0f4f8;
            /* Light blue-grey background */
            color: #1e293b;
            /* Slate 800 */
        }

        /* Palette Definition (Vibrant Tech) */
        :root {
            --color-primary: #0ea5e9;
            /* Sky 500 */
            --color-secondary: #0f172a;
            /* Slate 900 */
            --color-accent: #10b981;
            /* Emerald 500 */
            --color-warning: #f59e0b;
            /* Amber 500 */
            --color-danger: #ef4444;
            /* Red 500 */
        }

        /* Chart Container Rules - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            /* Flexible within grid */
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            /* Base height */
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Custom Card Styling */
        .info-card {
            background: white;
            border-radius: 0.75rem;
            /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border-top: 4px solid var(--color-primary);
            transition: transform 0.2s;
        }

        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* CSS Diagrams (Replacing SVG) */
        .flow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            background: #e0f2fe;
            border: 2px solid #0ea5e9;
            border-radius: 0.5rem;
            font-weight: bold;
            text-align: center;
            position: relative;
        }

        .flow-arrow {
            font-size: 2rem;
            color: #94a3b8;
            margin: 0.5rem 0;
        }

        @media (min-width: 768px) {
            .flow-arrow {
                transform: rotate(-90deg);
                margin: 0 1rem;
            }
        }
    </style>
    <!-- 
        NARRATIVE PLAN:
        1. Hero Section: Establish the high-tech nature and safety focus.
        2. Core Metrics (KPIs): Instant validation of system efficacy.
        3. Real-time Trends (Chart.js Line): Demonstrate the "Monitoring" aspect.
        4. Spatial Accuracy (Plotly Scatter): Show technical precision (mm-level).
        5. System Workflow (CSS Diagram): Explain how it works simply.
        6. Efficiency Comparison (Chart.js Radar): ROI analysis.
        7. Alert Composition (Chart.js Doughnut): Safety management breakdown.
        8. Footer: Contact/CTA.
        
        PALETTE: "Vibrant Tech" - Sky Blue (#0ea5e9), Deep Slate (#0f172a), Emerald Green (#10b981).
        
        NO SVG USED. NO MERMAID USED.
    -->
</head>

<body class="antialiased">

    <!-- Header / Hero -->
    <header class="bg-slate-900 text-white py-12 px-4 shadow-xl">
        <div class="max-w-7xl mx-auto text-center">
            <div
                class="inline-block px-3 py-1 mb-4 text-xs font-semibold tracking-wider text-cyan-300 uppercase bg-cyan-900 rounded-full">
                æ™ºæ…§çŸ¿å±± Â· å®‰å…¨å…ˆè¡Œ
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 tracking-tight">
                çŸ¿å±±åœ°è¡¨å½¢å˜ <span class="text-sky-400">GNSSè‡ªåŠ¨åŒ–ç›‘æµ‹</span> é¢„è­¦ç³»ç»Ÿ
            </h1>
            <p class="text-lg text-slate-300 max-w-3xl mx-auto leading-relaxed">
                åˆ©ç”¨åŒ—æ–—/GPSé«˜ç²¾åº¦å®šä½æŠ€æœ¯ï¼Œå®ç°å¯¹çŸ¿åŒºè¾¹å¡ã€å°¾çŸ¿åº“åŠæ²‰é™·åŒºçš„å…¨å¤©å€™ã€æ¯«ç±³çº§ã€æ— äººå€¼å®ˆç›‘æµ‹ã€‚
                ä»â€œäººé˜²â€åˆ°â€œæŠ€é˜²â€çš„é©å‘½æ€§è·¨è¶Šã€‚
            </p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-12 space-y-16">

        <!-- Section 1: Introduction & KPIs -->
        <section>
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-slate-800 border-l-8 border-sky-500 pl-4 mb-2">æ ¸å¿ƒç›‘æµ‹æŒ‡æ ‡æ¦‚è§ˆ</h2>
                <p class="text-slate-600">
                    æœ¬ç³»ç»Ÿé€šè¿‡é«˜å¯†åº¦éƒ¨ç½²çš„GNSSç›‘æµ‹ç»ˆç«¯ï¼Œå®æ—¶æ•æ‰åœ°è¡¨å¾®å°ä½ç§»ã€‚ä»¥ä¸‹æ˜¯ç³»ç»Ÿè¿è¡Œçš„æ ¸å¿ƒæ•ˆèƒ½æ•°æ®ï¼Œå±•ç¤ºäº†ç›¸æ¯”ä¼ ç»Ÿäººå·¥ç›‘æµ‹çš„å·¨å¤§ä¼˜åŠ¿ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- KPI 1: Accuracy -->
                <div class="info-card p-6 text-center">
                    <div class="text-slate-400 text-sm font-medium uppercase mb-2">æ°´å¹³/å‚ç›´æµ‹é‡ç²¾åº¦</div>
                    <div class="text-5xl font-bold text-sky-600 mb-2">2<span class="text-2xl text-slate-500">mm</span>
                    </div>
                    <p class="text-sm text-slate-500">RTKè½½æ³¢ç›¸ä½å·®åˆ†æŠ€æœ¯ï¼Œå®ç°æ¯«ç±³çº§å¾®å½¢å˜æ•æ‰ã€‚</p>
                </div>

                <!-- KPI 2: Continuity -->
                <div class="info-card p-6 text-center" style="border-top-color: var(--color-accent);">
                    <div class="text-slate-400 text-sm font-medium uppercase mb-2">å…¨å¤©å€™è¿è¡Œèƒ½åŠ›</div>
                    <div class="text-5xl font-bold text-emerald-500 mb-2">24<span
                            class="text-2xl text-slate-500">h</span></div>
                    <p class="text-sm text-slate-500">æ— æƒ§é›¨é›ªé›¾éœ¾ï¼Œä¸ä»…é™äºç™½æ˜¼ï¼Œæä¾›ä¸é—´æ–­çš„æ•°æ®æµã€‚</p>
                </div>

                <!-- KPI 3: Efficiency -->
                <div class="info-card p-6 text-center" style="border-top-color: var(--color-warning);">
                    <div class="text-slate-400 text-sm font-medium uppercase mb-2">é¢„è­¦å“åº”é€Ÿåº¦</div>
                    <div class="text-5xl font-bold text-amber-500 mb-2">&lt;3<span
                            class="text-2xl text-slate-500">s</span></div>
                    <p class="text-sm text-slate-500">æ•°æ®è§£ç®—å®Œæˆå³åˆ»è§¦å‘é¢„è­¦ï¼Œç§’çº§æ¨é€è‡³ç®¡ç†ç»ˆç«¯ã€‚</p>
                </div>
            </div>
        </section>

        <!-- Section 2: Real-time Trend Analysis (Chart.js Line) -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
            <div class="lg:col-span-1">
                <h2 class="text-2xl font-bold text-slate-800 mb-4">å½¢å˜è¶‹åŠ¿å®æ—¶è¿½è¸ª</h2>
                <p class="text-slate-600 mb-4 text-sm leading-relaxed">
                    <strong>Goal: Change (æ˜¾ç¤ºéšæ—¶é—´çš„å˜åŒ–).</strong><br>
                    ä¸Šå›¾å±•ç¤ºäº†æŸé‡ç‚¹ç›‘æµ‹ç‚¹ä½ï¼ˆTP-03ï¼‰åœ¨è¿‡å»30å¤©å†…çš„ä¸‰ç»´ä½ç§»ç´¯ç§¯å˜åŒ–ã€‚
                </p>
                <p class="text-slate-600 text-sm leading-relaxed">
                    ä¼ ç»Ÿäººå·¥æµ‹é‡å—å¤©æ°”å’Œå…‰ç…§é™åˆ¶ï¼Œæ•°æ®å‘ˆç¦»æ•£çŠ¶ã€‚GNSSè‡ªåŠ¨åŒ–ç³»ç»Ÿç”Ÿæˆçš„æ›²çº¿è¿ç»­å¹³æ»‘ï¼Œèƒ½å¤Ÿæ•æ‰åˆ°çªå‘æ€§çš„åŠ é€Ÿå½¢å˜è¶‹åŠ¿ï¼ˆå¦‚å›¾ä¸­ç¬¬22-24å¤©å‡ºç°çš„é™é›¨åä½ç§»åŠ é€Ÿï¼‰ï¼Œä¸ºæ’¤ç¦»å†³ç­–äº‰å–å®è´µæ—¶é—´ã€‚
                </p>
                <div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100">
                    <div class="font-bold text-blue-800 text-sm mb-1">å…³é”®å‘ç°</div>
                    <p class="text-xs text-blue-600">
                        Xæ–¹å‘ï¼ˆä¸œè¥¿å‘ï¼‰ä½ç§»åœ¨å¼ºé™é›¨åå‘ˆç°æ˜æ˜¾çš„åŠ é€Ÿè¶‹åŠ¿ï¼Œç³»ç»Ÿå·²è‡ªåŠ¨æ ‡è®°é»„è‰²é¢„è­¦ã€‚
                    </p>
                </div>
            </div>

            <div class="lg:col-span-2">
                <div class="info-card p-4">
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Spatial Distribution (Plotly ScatterGL) -->
        <section>
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-slate-800 mb-2">ç›‘æµ‹ç‚¹ä½ç©ºé—´åˆ†å¸ƒä¸ç¨³å®šæ€§åˆ†æ</h2>
                <p class="text-slate-600 max-w-4xl">
                    <strong>Goal: Relationships (æ­ç¤ºç©ºé—´å…³ç³»ä¸åˆ†å¸ƒ).</strong><br>
                    é€šè¿‡å¯¹çŸ¿å±±è¾¹å¡è¿›è¡Œä¸‰ç»´å»ºæ¨¡ä¸ç‚¹ä½æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚çœ‹åˆ°ä¸åŒé«˜ç¨‹å’ŒåŒºåŸŸçš„ç¨³å®šæ€§æƒ…å†µã€‚
                    ä¸‹å›¾æ¨¡æ‹Ÿäº†çŸ¿å±±è¾¹å¡ç›‘æµ‹ç‚¹çš„ç©ºé—´åˆ†å¸ƒï¼Œé¢œè‰²ä»£è¡¨ç´¯è®¡æ²‰é™é‡ã€‚çº¢è‰²åŒºåŸŸè¡¨ç¤ºæ²‰é™é‡è¾ƒå¤§ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨ã€‚
                </p>
            </div>

            <div class="info-card p-2 md:p-6">
                <!-- Plotly Container -->
                <div id="spatialChart" class="w-full h-[400px] md:h-[500px]"></div>
            </div>
        </section>

        <!-- Section 4: Workflow Diagram (CSS/HTML) -->
        <section>
            <h2 class="text-2xl font-bold text-slate-800 mb-6 text-center">ç³»ç»Ÿè¿è¡Œå…¨æµç¨‹è§£æ</h2>
            <p class="text-center text-slate-600 mb-8 max-w-2xl mx-auto">
                <strong>Goal: Organize (å±•ç¤ºæµç¨‹).</strong>
                ä»å«æ˜Ÿä¿¡å·é‡‡é›†åˆ°æœ€ç»ˆçš„é¢„è­¦å‘å¸ƒï¼Œç³»ç»Ÿå®ç°äº†å…¨é“¾è·¯çš„è‡ªåŠ¨åŒ–å¤„ç†ï¼Œæ¶ˆé™¤äº†äººä¸ºè¯¯å·®ã€‚
            </p>

            <div
                class="flex flex-col md:flex-row justify-between items-center bg-white p-8 rounded-xl shadow-inner overflow-hidden">

                <!-- Step 1 -->
                <div class="flow-step w-full md:w-1/5">
                    <div class="text-4xl mb-2">ğŸ›°ï¸</div>
                    <div class="text-sky-700">æ•°æ®é‡‡é›†</div>
                    <div class="text-xs text-slate-500 font-normal mt-1">GNSSæ¥æ”¶æœºæ¥æ”¶åŒ—æ–—/GPSå«æ˜Ÿä¿¡å·</div>
                </div>

                <!-- Arrow -->
                <div class="flow-arrow text-slate-300">â¤</div>

                <!-- Step 2 -->
                <div class="flow-step w-full md:w-1/5">
                    <div class="text-4xl mb-2">ğŸ“¡</div>
                    <div class="text-sky-700">æ•°æ®ä¼ è¾“</div>
                    <div class="text-xs text-slate-500 font-normal mt-1">4G/5G/LoRaæ— çº¿ç½‘ç»œå®æ—¶å›ä¼ </div>
                </div>

                <!-- Arrow -->
                <div class="flow-arrow text-slate-300">â¤</div>

                <!-- Step 3 -->
                <div class="flow-step w-full md:w-1/5">
                    <div class="text-4xl mb-2">ğŸ–¥ï¸</div>
                    <div class="text-sky-700">è§£ç®—åˆ†æ</div>
                    <div class="text-xs text-slate-500 font-normal mt-1">äº‘æœåŠ¡å™¨é«˜ç²¾åº¦åŸºçº¿è§£ç®—ç®—æ³•</div>
                </div>

                <!-- Arrow -->
                <div class="flow-arrow text-slate-300">â¤</div>

                <!-- Step 4 -->
                <div class="flow-step w-full md:w-1/5 border-orange-400 bg-orange-50">
                    <div class="text-4xl mb-2">ğŸ“±</div>
                    <div class="text-orange-700">é¢„è­¦å‘å¸ƒ</div>
                    <div class="text-xs text-slate-500 font-normal mt-1">çŸ­ä¿¡/å¾®ä¿¡/å£°å…‰æŠ¥è­¦å¤šç»´è§¦è¾¾</div>
                </div>

            </div>
        </section>

        <!-- Section 5: Comparative Analysis & Composition (Grid) -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8">

            <!-- Comparison Radar Chart -->
            <div>
                <h3 class="text-xl font-bold text-slate-800 mb-3">ä¼ ç»Ÿäººå·¥ vs GNSSè‡ªåŠ¨åŒ–</h3>
                <p class="text-slate-600 text-sm mb-4">
                    <strong>Goal: Compare (å¤šç»´å¯¹æ¯”).</strong>
                    é›·è¾¾å›¾æ¸…æ™°å±•ç¤ºäº†è‡ªåŠ¨åŒ–ç³»ç»Ÿåœ¨æ—¶é—´åˆ†è¾¨ç‡ã€æ•°æ®ç²¾åº¦ã€é•¿æœŸæˆæœ¬åŠå®‰å…¨æ€§ä¸Šçš„å…¨é¢é¢†å…ˆã€‚
                </p>
                <div class="info-card p-4">
                    <div class="chart-container">
                        <canvas id="radarChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Warning Status Doughnut -->
            <div>
                <h3 class="text-xl font-bold text-slate-800 mb-3">å½“å‰å…¨çŸ¿åŒºå®‰å…¨çŠ¶æ€åˆ†å¸ƒ</h3>
                <p class="text-slate-600 text-sm mb-4">
                    <strong>Goal: Inform/Part-to-Whole (å æ¯”æ„æˆ).</strong>
                    å±•ç¤ºå½“å‰æ¥å…¥ç³»ç»Ÿçš„200+ä¸ªç›‘æµ‹ç‚¹ä½çš„å®æ—¶çŠ¶æ€åˆ†å¸ƒã€‚ç»å¤§å¤šæ•°ç‚¹ä½å¤„äºç¨³å®šçŠ¶æ€ã€‚
                </p>
                <div class="info-card p-4">
                    <div class="chart-container">
                        <canvas id="statusChart"></canvas>
                    </div>
                </div>
            </div>

        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-12 text-center mt-12">
        <div class="max-w-4xl mx-auto px-4">
            <h4 class="text-white text-lg font-bold mb-4">è”ç³»æˆ‘ä»¬è¦å–æ›´å¤šæŠ€æœ¯æ–¹æ¡ˆ</h4>
            <p class="mb-8">è‡´åŠ›äºä¸ºçŸ¿å±±åœ°è´¨ç¾å®³æä¾›æœ€å¯é çš„ç›‘æµ‹é¢„è­¦æœåŠ¡</p>
            <div class="inline-block border border-slate-700 rounded-lg p-4 bg-slate-800">
                <p class="text-sm">ğŸ“§ æ¼”ç¤ºå’¨è¯¢: demo@smartmine-gnss.com</p>
                <p class="text-sm mt-2">ğŸ“ æœåŠ¡çƒ­çº¿: 400-888-GNSS</p>
            </div>
            <p class="text-xs mt-8 opacity-50">Â© 2023 Smart Mine Monitoring Tech. All data simulated for demonstration.
            </p>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --------------------------------------------------------
        // UTILITY: Label Wrapping Logic (String > 16 chars -> Array)
        // --------------------------------------------------------
        function wrapLabel(label) {
            const MAX_LENGTH = 16;
            if (typeof label !== 'string' || label.length <= MAX_LENGTH) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length < MAX_LENGTH) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --------------------------------------------------------
        // UTILITY: Common Tooltip Plugin (Mandatory for wrapping)
        // --------------------------------------------------------
        const commonTooltipPlugin = {
            callbacks: {
                title: function (tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --------------------------------------------------------
        // CHART 1: Deformation Trends (Line Chart)
        // --------------------------------------------------------
        const ctxTrend = document.getElementById('trendChart').getContext('2d');

        // Generate simulated random walk data
        const days = Array.from({ length: 30 }, (_, i) => `11æœˆ${i + 1}æ—¥`);
        const dataX = [];
        const dataY = [];
        const dataZ = [];
        let valX = 0, valY = 0, valZ = 0;

        for (let i = 0; i < 30; i++) {
            // Simulate sudden rain impact around day 22
            let rainFactor = (i > 21 && i < 25) ? 3 : 1;
            valX += (Math.random() - 0.3) * 2 * rainFactor; // Trend positive
            valY += (Math.random() - 0.5) * 1; // Stable
            valZ += (Math.random() - 0.7) * 2.5 * rainFactor; // Trend negative (subsidence)

            dataX.push(valX);
            dataY.push(valY);
            dataZ.push(valZ);
        }

        new Chart(ctxTrend, {
            type: 'line',
            data: {
                labels: days, // Short labels, no wrapping needed here
                datasets: [
                    {
                        label: 'Xæ–¹å‘ä½ç§» (ç´¯è®¡)',
                        data: dataX,
                        borderColor: '#0ea5e9', // Sky 500
                        backgroundColor: 'rgba(14, 165, 233, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        pointRadius: 2
                    },
                    {
                        label: 'Yæ–¹å‘ä½ç§» (ç´¯è®¡)',
                        data: dataY,
                        borderColor: '#94a3b8', // Slate 400
                        borderWidth: 1,
                        borderDash: [5, 5],
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Zæ–¹å‘æ²‰é™ (ç´¯è®¡)',
                        data: dataZ,
                        borderColor: '#ef4444', // Red 500
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        pointRadius: 2,
                        fill: true
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipPlugin,
                    legend: { position: 'top' },
                    title: { display: false }
                },
                scales: {
                    y: {
                        title: { display: true, text: 'å½¢å˜é‡ (mm)' },
                        grid: { color: '#f1f5f9' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // --------------------------------------------------------
        // CHART 2: Spatial Distribution (Plotly ScatterGL)
        // --------------------------------------------------------
        // Simulating a grid of points on a slope
        const xPoints = [];
        const yPoints = [];
        const zValues = []; // Height
        const deformationColors = []; // Color based on deformation

        for (let x = 0; x < 20; x++) {
            for (let y = 0; y < 20; y++) {
                xPoints.push(x * 10);
                yPoints.push(y * 10);

                // Height creates a slope
                let height = 200 - (x * 5) - (Math.random() * 2);
                zValues.push(height);

                // Deformation is higher at the bottom of slope (high X)
                let deform = (x / 20) * 30 + (Math.random() * 5);
                deformationColors.push(deform);
            }
        }

        const traceSpatial = {
            x: xPoints,
            y: yPoints,
            mode: 'markers',
            type: 'scattergl', // Use WebGL for performance/Canvas constraint
            marker: {
                size: 10,
                color: deformationColors,
                colorscale: 'Jet', // Blue to Red
                showscale: true,
                colorbar: {
                    title: 'ç´¯è®¡æ²‰é™é‡ (mm)',
                    thickness: 10
                },
                opacity: 0.8
            },
            text: deformationColors.map(d => `æ²‰é™: ${d.toFixed(1)}mm`),
            hoverinfo: 'text'
        };

        const layoutSpatial = {
            margin: { t: 20, b: 40, l: 40, r: 20 },
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(241, 245, 249, 0.5)',
            xaxis: { title: 'çŸ¿åŒºä¸œè¥¿å‘è·ç¦» (m)', showgrid: true, gridcolor: '#e2e8f0' },
            yaxis: { title: 'çŸ¿åŒºå—åŒ—å‘è·ç¦» (m)', showgrid: true, gridcolor: '#e2e8f0' }
        };

        Plotly.newPlot('spatialChart', [traceSpatial], layoutSpatial, { responsive: true, displayModeBar: false });


        // --------------------------------------------------------
        // CHART 3: Radar Comparison (Chart.js)
        // --------------------------------------------------------
        const ctxRadar = document.getElementById('radarChart').getContext('2d');

        // Labels that might be long need processing
        const radarLabelsRaw = [
            "ç›‘æµ‹æ•°æ®çš„æ—¶é—´åˆ†è¾¨ç‡ (Frequency)",
            "æ¯«ç±³çº§æµ‹é‡ç²¾åº¦ (Accuracy)",
            "é•¿æœŸè¿è¥ç»´æŠ¤æˆæœ¬ (Low Cost)",
            "å…¨å¤©å€™ç¯å¢ƒé€‚åº”æ€§ (Durability)",
            "æ•°æ®é‡‡é›†å®‰å…¨æ€§ (Safety)"
        ];

        const radarLabels = radarLabelsRaw.map(wrapLabel);

        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: radarLabels,
                datasets: [{
                    label: 'GNSSè‡ªåŠ¨åŒ–ç›‘æµ‹',
                    data: [95, 90, 85, 98, 100],
                    fill: true,
                    backgroundColor: 'rgba(14, 165, 233, 0.2)', // Sky 500
                    borderColor: '#0ea5e9',
                    pointBackgroundColor: '#0ea5e9',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#0ea5e9'
                }, {
                    label: 'ä¼ ç»Ÿäººå·¥æµ‹é‡',
                    data: [30, 70, 40, 50, 60],
                    fill: true,
                    backgroundColor: 'rgba(148, 163, 184, 0.2)', // Slate 400
                    borderColor: '#94a3b8',
                    pointBackgroundColor: '#94a3b8',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#94a3b8'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltipPlugin,
                    legend: { position: 'bottom' }
                },
                scales: {
                    r: {
                        angleLines: { color: '#cbd5e1' },
                        grid: { color: '#e2e8f0' },
                        pointLabels: {
                            font: { size: 11 }
                        },
                        suggestedMin: 0,
                        suggestedMax: 100
                    }
                }
            }
        });

        // --------------------------------------------------------
        // CHART 4: Status Doughnut (Chart.js)
        // --------------------------------------------------------
        const ctxStatus = document.getElementById('statusChart').getContext('2d');

        new Chart(ctxStatus, {
            type: 'doughnut',
            data: {
                labels: ['æ­£å¸¸è¿è¡Œ (Stable)', 'è“è‰²é¢„è­¦ (Notice)', 'é»„è‰²é¢„è­¦ (Warning)', 'çº¢è‰²æŠ¥è­¦ (Critical)'], // Short enough
                datasets: [{
                    data: [185, 12, 3, 0], // Total 200 points
                    backgroundColor: [
                        '#10b981', // Emerald (Normal)
                        '#3b82f6', // Blue (Notice)
                        '#f59e0b', // Amber (Warning)
                        '#ef4444'  // Red (Critical)
                    ],
                    borderWidth: 0,
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '70%',
                plugins: {
                    tooltip: commonTooltipPlugin,
                    legend: {
                        position: 'right',
                        labels: { boxWidth: 12 }
                    }
                }
            },
            plugins: [{
                id: 'centerText',
                beforeDraw: function (chart) {
                    var width = chart.width,
                        height = chart.height,
                        ctx = chart.ctx;

                    ctx.restore();
                    var fontSize = (height / 114).toFixed(2);
                    ctx.font = "bold " + fontSize + "em sans-serif";
                    ctx.textBaseline = "middle";
                    ctx.fillStyle = "#0f172a";

                    var text = "92.5%",
                        textX = Math.round((width - ctx.measureText(text).width) / 2),
                        textY = height / 2;

                    ctx.fillText(text, textX, textY);

                    ctx.font = "normal " + (fontSize * 0.4).toFixed(2) + "em sans-serif";
                    ctx.fillStyle = "#64748b";
                    var subtext = "å®‰å…¨ç‡",
                        subtextX = Math.round((width - ctx.measureText(subtext).width) / 2),
                        subtextY = height / 2 + 25;
                    ctx.fillText(subtext, subtextX, subtextY);

                    ctx.save();
                }
            }]
        });

    </script>
</body>

</html>